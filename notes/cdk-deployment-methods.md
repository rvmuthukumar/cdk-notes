

#### 1. AWS Management Console
- Deploy Synthesized CloudFormation Template: Manually deploy the CloudFormation template generated by the CDK.
- Synthesize the template: cdk synth
- Upload the template file (cdk.out/) to the AWS CloudFormation console and create a stack.

#### 2. AWS CLI
- Using AWS CLI Commands: Deploy the synthesized CloudFormation template using AWS CLI.
- Synthesize the template: cdk synth

- Use AWS CLI to deploy
    - `aws cloudformation create-stack --stack-name my-stack --template-body file://cdk.out/<template-file>.json`

- For updates
    - `aws cloudformation update-stack --stack-name my-stack --template-body file://cdk.out/<template-file>.json`

#### 3. AWS CDK CLI
- Direct Deployment: The most straightforward method is to use the CDK CLI.
- Initialize a new CDK project: cdk init app --language <language>

- Synthesize the CloudFormation template: cdk synth

- Deploy the stack: cdk deploy

- To update the stack: cdk deploy

#### 4. AWS Code Pipeline

- CI/CD Integration: Automate deployment through AWS CodePipeline.
- Define a pipeline in AWS CodePipeline.
- Use CodeBuild to run cdk synth and cdk deploy commands.
- Integrate with other stages for source, build, and deploy actions.

#### 5. Third Party CI/CD Tools
- Using Jenkins, GitLab CI/CD, GitHub Actions, CircleCI, etc.: Integrate CDK deployment into existing CI/CD workflows.
- Define pipeline scripts to run cdk synth and cdk deploy commands.

                ```
                name: Deploy CDK App

                on:
                push:
                    branches:
                    - main

                jobs:
                deploy:
                    runs-on: ubuntu-latest

                    steps:
                    - name: Checkout
                        uses: actions/checkout@v2

                    - name: Set up Node.js
                        uses: actions/setup-node@v2
                        with:
                        node-version: '14'

                    - name: Install dependencies
                        run: npm install

                    - name: CDK Synth
                        run: npx cdk synth

                    - name: CDK Deploy
                        run: npx cdk deploy --require-approval never
                        env:
                        AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
                        AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}

                ```


#### 6. AWS Code Build

- Automate Builds and Deployments: Use AWS CodeBuild to automate the CDK build and deployment process.
- Create a buildspec.yml file for CodeBuild

            ```
            version: 0.2

            phases:
            install:
                commands:
                - npm install -g aws-cdk
            pre_build:
                commands:
                - npm install
            build:
                commands:
                - cdk synth
                - cdk deploy --require-approval never
            ```
            
#### 7. Docker Containers
- Containerized Deployment: Run CDK commands within Docker containers.
- Create a Docker file
        ```
            FROM node:14

            RUN npm install -g aws-cdk
            WORKDIR /app
            COPY . .

            RUN npm install

            CMD ["cdk", "deploy", "--require-approval", "never"]
        ```
- Build and run the container

        ```
            docker build -t cdk-app .
            docker run -e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY cdk-app

         ```

#### 8. AWS Cloud Shell
- Using AWS CloudShell: Run CDK commands directly within the AWS CloudShell environment.
- Launch AWS CloudShell from the AWS Management Console.
- Clone your CDK app repository.
- Run cdk synth and cdk deploy within CloudShell.









### Safegaurds in Deployment
- Following Safeguards are discussed in [4]
- Test, Preprod, Prod
- With manual approval after testing
- With Unit tests
- Canary Testing
- Adding Cloud watch alarms with Canary testing and observing metrics